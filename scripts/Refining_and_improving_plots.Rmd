---
title: "refining_plots"
author: "Mahmudur Rahman"
date: "05/07/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
head(asasec)

df <- as_tibble(asasec)

p0 <- df %>% 
  filter(Year ==2014) %>% 
  ggplot(aes(Members,Revenues,label = Sname))+
  geom_point()

p1 <- p0+
  geom_point(aes(color = Journal))+
  geom_smooth(method = "lm",se = F,color = "grey")

# add some text label
txt_lbl <- df %>% 
  filter(Year == 2014 & Revenues > 7000)

p2 <- p1+
  geom_text_repel(data = txt_lbl)

#label the axes and scale,labs
p3 <- p2+
  labs(x="Membership",
        y="Revenues",
        color = "Section has own Journal",
        title = "ASA Sections",
        subtitle = "2014 Calendar year.",
        caption = "Source: ASA annual report.")


p3+
  scale_y_continuous(labels = dollar)+
  theme(legend.position = "bottom")
```
# Using color to plots
maping a variable to a color scale 
We choose color palettes for mappings through one of the scale_ functions for color or fill
RColorBrewer package is recomended 

cale_color_brewer() or
scale_fill_brewer()

dichromat pacage for safe color for  color blindness
Note:
You can also specify colors manually, via scale_color_manual() or scale_fill_manual().
```{r}
library(RColorBrewer)
library(ggthemes)
library(cowplot) #contains a well-developed theme suitable for figures
library(hrbrthemes)
```

Considerations when creating /observing a plot 
When producing a graphic like this in ggplot, or when looking at good plots made by others, it should gradually become your habit to see not just the content of the plot but also the implicit or explicit structure that it has. First, you will be able to see the mappings that form the basis of the plot, picking out which variables are mapped to x and y, and which to to color, fill, shape, label, and so on. What geoms were used to produce them? Second, how have the scales been adjusted? Are the axes transformed? Are the fill and color legends combined? And third, especially as you practice making plots of your own, you will find yourself picking out the **layered* structure of the plot. What is the base layer? What has been drawn on top of it, and in what order? Which upper layers are formed from subsets of the data? Which are new datasets? Are there annotations? The ability to evaluate plots in this way, to apply the grammar of graphics in practice, is useful both for looking at plots and for thinking about how to make them.